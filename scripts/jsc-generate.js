!function(e){var t={};function r(s){if(t[s])return t[s].exports;var a=t[s]={i:s,l:!1,exports:{}};return e[s].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(s,a,function(t){return e[t]}.bind(null,a));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=8)}([function(e,t){e.exports=require("path")},function(e,t,r){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(2),i=s(r(6));class n extends i.default{constructor(){super(...arguments),this.create=({fileCreated:e})=>a.appendFile(this.path,"",t=>{if(t)throw t;e&&e()}),this.read=({encoding:e,dataReady:t})=>a.readFile(this.path,e||n.defaultReadSettings.encoding,(e,r)=>{if(e)throw e;t(r)}),this.write=({data:e,dataWritten:t})=>a.writeFile(this.path,e,e=>{if(e)throw e;t&&t()}),this.remove=({fileRemoved:e})=>this.exists()&&a.unlink(this.path,t=>{if(t)throw t;e&&e()}),this.copy=({newPath:e,fileCopied:t})=>this.read({dataReady:r=>{const s=new n({path:e});s.write({data:r,dataWritten:()=>t(s)})}}),this.move=({newPath:e,fileMoved:t})=>this.copy({newPath:e,fileCopied:e=>t(e)})}}n.defaultReadSettings={encoding:"utf8"},t.default=n},function(e,t){e.exports=require("fs")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class s{static parse(){return process.argv.slice(2).map(s.detectInput).reduce(s.mergeInput,[])}static parameters(){return s.parse().reduce((e,t)=>{const r=Object.assign({},e);return r[t.label]=t.value.length>1?t.value:t.value[0],r},{})}static parameter(e){return s.parameters()[e]}}t.default=s,s.detectInput=e=>{const t="--"===e.substring(0,2),r="-"===e.substring(0,1),s=t||r;return{text:t?e.substring(2,e.length):r?e.substring(1,e.length):e,type:s?"label":"value"}},s.mergeInput=(e,t)=>{if("label"===t.type)e.push({label:t.text,value:[]});else{if(!e.length)throw"CLI input must be labeled with '-' or '--'";e[e.length-1].value.push(t.text)}return e}},function(e,t,r){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(2),i=s(r(6)),n=s(r(1)),o=r(0),l=s(r(15)),u=s(r(16)),c=r(17),d=s(r(18)),f=s(r(19));class h extends i.default{constructor(){super(...arguments),this.children=e=>{a.readdir(this.path,(t,r)=>{if(t)throw t;{const t=[],s=[];r.forEach(a=>{const l={path:o.resolve(this.path,a)};new i.default(l).stats(a=>{a.isDirectory()?s.push(new h(l)):t.push(new n.default(l)),r.length===t.length+s.length&&e({directories:s,files:t})})})}})},this.child=({childName:e,childReady:t})=>this.children(({files:r,directories:s})=>t(r.find(t=>t.name===e)||s.find(t=>t.name===e))),this.files=e=>this.children(({files:t})=>e(t)),this.file=({fileName:e,fileReady:t})=>this.files(r=>t(r.find(t=>t.name===e))),this.directories=e=>this.children(({directories:t})=>e(t)),this.directory=({directoryName:e,directoryReady:t})=>this.directories(r=>t(r.find(t=>t.name===e))),this.remove=e=>l.default(this.path,e),this.copy=({newPath:e,directoryCopied:t})=>u.default(this.path,e,e=>{if(e)throw e;t()}),this.run=({command:e,parameters:t,commandExited:r})=>{const s={};s.cwd=this.path;const a=c.spawn(e,t,s);a.stdout.on("data",e=>console.log(e.toString())),a.stderr.on("data",e=>console.log(e.toString())),a.on("exit",e=>r(e,a))},this.watch=e=>e(d.default.watch(o.resolve(this.path))),this.create=e=>a.mkdir(this.path,e),this.sync=(e,t="")=>{this.copy({newPath:e,directoryCopied:()=>{this.watch(r=>setTimeout(()=>r.on("all",(r,s)=>{const a=s.substring(this.path.length,s.length);f.default({event:r,sourcePath:s,targetPath:[e,a].join(""),corePath:a,messagePrefix:t})}),1e3))}})}}}t.default=h},function(e,t,r){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=s(r(1)),i=s(r(3)),n=r(0),o=s(r(12));class l{}l.file=new a.default({path:n.resolve(process.cwd(),"src","Jsc","JscApi.ts")}),l.configFile=new a.default({path:n.resolve(process.cwd(),"src","Jsc","JscApiConfig.json")}),l.config=e=>l.configFile.read({dataReady:t=>e(JSON.parse(t))}),l.apiString=e=>l.file.read({dataReady:t=>e(t)}),l.parseHash=e=>e.match(/export const JSC_API_VERSION: string = '(.*)';/g)[0],l.version=e=>l.apiString(t=>e(l.parseHash(t))),l.generate=e=>o.default.generate(e,i.default.parameter("version")||2),l.check=()=>o.default.check(i.default.parameter("version")||2),t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(2),a=r(0);t.default=class{constructor(e){this.stats=e=>s.lstat(this.path,(t,r)=>{if(t)throw t;e(r)}),this.exists=()=>s.existsSync(this.path),this.path=e.path,this.predecessors=e.path.split(a.sep),this.name=this.predecessors[this.predecessors.length-1],this.parent=this.predecessors.slice(0,this.predecessors.length-1).join(a.sep)}}},function(e,t){e.exports=require("ansi-colors")},function(e,t,r){e.exports=r(9)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(10)},function(e,t,r){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(0),i=s(r(11)),n=new(s(r(4)).default)({path:a.resolve(".")});i.default.generate(()=>{n.run({command:"node",parameters:["node_modules/prettier/bin-prettier.js","--write","./src/Jsc/JscApi.ts"],commandExited:()=>{}})})},function(e,t,r){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=s(r(5));class i{}i.generate=e=>a.default.generate(e),i.check=()=>a.default.check(),t.default=i},function(e,t,r){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=s(r(13)),i=s(r(7)),n=s(r(14)),o=s(r(3)),l=s(r(5));class u{}u.endpoint=({versionNumber:e,endpointNameReady:t})=>{n.default.config(r=>t(`${r.JscClient.Host}/client/generated/v${e||2}`))},u.axiosParams=()=>o.default.parameter("elumeoPath")?{params:{options:`elumeoPath:${o.default.parameter("elumeoPath")}`}}:null,u.fetchApi=(e,t)=>l.default.config(r=>u.endpoint({versionNumber:e,endpointNameReady:e=>{a.default.post(e,r,u.axiosParams()).then(({data:e})=>t(e)).catch(e=>{const t=e.response.data.match(/(?<=\[message\] => ).*/gm);console.error(i.default.red(t))})}})),u.generate=(e,t=2)=>u.fetchApi(t,t=>l.default.file.write({data:t,dataWritten:()=>{const t=i.default.green(`√ New JscApi File '${l.default.file.path}' successfully created`);console.log(t),e()}})),u.check=(e=2)=>u.fetchApi(e,e=>l.default.version(t=>console.log(l.default.parseHash(e)===t?i.default.green("√ The JscApi is up to date - nothing to do"):i.default.red("The JscApi has been changed - please review and update")))),t.default=u},function(e,t){e.exports=require("axios")},function(e,t,r){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=s(r(3)),i=r(0),n=s(r(4));class o{}o.projectPath=()=>i.resolve(process.cwd(),a.default.parameter("project-path")||"."),o.configFile=(e,t=o.projectPath())=>{const r=new n.default({path:t});r.file({fileName:"config.json.dist",fileReady:t=>{t?e(t):o.configFile(e,r.parent)}})},o.config=e=>o.configFile(t=>t.read({dataReady:t=>e(JSON.parse(t))})),t.default=o},function(e,t){e.exports=require("rimraf")},function(e,t){e.exports=require("ncp")},function(e,t){e.exports=require("child_process")},function(e,t){e.exports=require("chokidar")},function(e,t,r){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=s(r(7)),i=s(r(1)),n=s(r(4)),o=e=>e?`${e}: `:"";t.default=({event:e,sourcePath:t,targetPath:r,corePath:s,messagePrefix:l})=>{switch(e){case"addDir":((e,t,r)=>{new n.default({path:e}).create(()=>{console.log(`${o(r)}${a.default.greenBright(`+${t}`)}`)})})(r,s,l);break;case"add":case"change":((e,t,r,s)=>{new i.default({path:e}).copy({newPath:t,fileCopied:()=>{console.log(`${o(s)}${a.default.greenBright(`+${r}`)}`)}})})(t,r,s,l);break;case"unlink":((e,t,r)=>{new i.default({path:e}).remove({fileRemoved:()=>{console.log(`${o(r)}${a.default.redBright(`-${t}`)}`)}})})(r,s,l);break;case"unlinkDir":((e,t,r)=>{new n.default({path:e}).remove(()=>{console.log(`${o(r)}${a.default.redBright(`-${t}`)}`)})})(r,s,l)}}}]);